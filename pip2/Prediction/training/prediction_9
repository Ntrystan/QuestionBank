.. activecode:: prediction_9
    :author: Brad Miller
    :difficulty: 3
    :basecourse: pip2
    :topic: Prediction/training
    :from_source: None
    :nocanvas:
    :include: prediction_training_helpers

    # produce a dictionary with letters and counts
    def letter_frequencies(txt):
        d = {}
        for c in txt:
            if c not in d:
                d[c] = 1
            else:
                d[c] = d[c] + 1
        return d

    fs = letter_frequencies(train_txt)


    # sort the letters by how frquently they appear
    sorted_lets = sorted(fs.keys(), key = lambda c: fs[c], reverse=True)

    # Define a default rule
    freqs_rule = (None, sorted_lets)